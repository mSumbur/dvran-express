
// 自动生成的可见 ASCII -> PUA 映射（PUA 使用 \u 转义）
const encodeMap: any = {
    " ": "\uE000",
    "!": "\uE001",
    "\"": "\uE002",
    "#": "\uE003",
    "$": "\uE004",
    "%": "\uE005",
    "&": "\uE006",
    "'": "\uE007",
    "(": "\uE008",
    ")": "\uE009",
    "*": "\uE00A",
    "+": "\uE00B",
    ",": "\uE00C",
    "-": "\uE00D",
    ".": "\uE00E",
    "/": "\uE00F",
    "0": "\uE010",
    "1": "\uE011",
    "2": "\uE012",
    "3": "\uE013",
    "4": "\uE014",
    "5": "\uE015",
    "6": "\uE016",
    "7": "\uE017",
    "8": "\uE018",
    "9": "\uE019",
    ":": "\uE01A",
    ";": "\uE01B",
    "<": "\uE01C",
    "=": "\uE01D",
    ">": "\uE01E",
    "?": "\uE01F",
    "@": "\uE020",
    "A": "\uE021",
    "B": "\uE022",
    "C": "\uE023",
    "D": "\uE024",
    "E": "\uE025",
    "F": "\uE026",
    "G": "\uE027",
    "H": "\uE028",
    "I": "\uE029",
    "J": "\uE02A",
    "K": "\uE02B",
    "L": "\uE02C",
    "M": "\uE02D",
    "N": "\uE02E",
    "O": "\uE02F",
    "P": "\uE030",
    "Q": "\uE031",
    "R": "\uE032",
    "S": "\uE033",
    "T": "\uE034",
    "U": "\uE035",
    "V": "\uE036",
    "W": "\uE037",
    "X": "\uE038",
    "Y": "\uE039",
    "Z": "\uE03A",
    "[": "\uE03B",
    "\\": "\uE03C",
    "]": "\uE03D",
    "^": "\uE03E",
    "_": "\uE03F",
    "`": "\uE040",
    "a": "\uE041",
    "b": "\uE042",
    "c": "\uE043",
    "d": "\uE044",
    "e": "\uE045",
    "f": "\uE046",
    "g": "\uE047",
    "h": "\uE048",
    "i": "\uE049",
    "j": "\uE04A",
    "k": "\uE04B",
    "l": "\uE04C",
    "m": "\uE04D",
    "n": "\uE04E",
    "o": "\uE04F",
    "p": "\uE050",
    "q": "\uE051",
    "r": "\uE052",
    "s": "\uE053",
    "t": "\uE054",
    "u": "\uE055",
    "v": "\uE056",
    "w": "\uE057",
    "x": "\uE058",
    "y": "\uE059",
    "z": "\uE05A",
    "{": "\uE05B",
    "|": "\uE05C",
    "}": "\uE05D",
    "~": "\uE05E",
};

const decodeMap: any = {
    "\uE000": " ",
    "\uE001": "!",
    "\uE002": "\"",
    "\uE003": "#",
    "\uE004": "$",
    "\uE005": "%",
    "\uE006": "&",
    "\uE007": "'",
    "\uE008": "(",
    "\uE009": ")",
    "\uE00A": "*",
    "\uE00B": "+",
    "\uE00C": ",",
    "\uE00D": "-",
    "\uE00E": ".",
    "\uE00F": "/",
    "\uE010": "0",
    "\uE011": "1",
    "\uE012": "2",
    "\uE013": "3",
    "\uE014": "4",
    "\uE015": "5",
    "\uE016": "6",
    "\uE017": "7",
    "\uE018": "8",
    "\uE019": "9",
    "\uE01A": ":",
    "\uE01B": ";",
    "\uE01C": "<",
    "\uE01D": "=",
    "\uE01E": ">",
    "\uE01F": "?",
    "\uE020": "@",
    "\uE021": "A",
    "\uE022": "B",
    "\uE023": "C",
    "\uE024": "D",
    "\uE025": "E",
    "\uE026": "F",
    "\uE027": "G",
    "\uE028": "H",
    "\uE029": "I",
    "\uE02A": "J",
    "\uE02B": "K",
    "\uE02C": "L",
    "\uE02D": "M",
    "\uE02E": "N",
    "\uE02F": "O",
    "\uE030": "P",
    "\uE031": "Q",
    "\uE032": "R",
    "\uE033": "S",
    "\uE034": "T",
    "\uE035": "U",
    "\uE036": "V",
    "\uE037": "W",
    "\uE038": "X",
    "\uE039": "Y",
    "\uE03A": "Z",
    "\uE03B": "[",
    "\uE03C": "\\",
    "\uE03D": "]",
    "\uE03E": "^",
    "\uE03F": "_",
    "\uE040": "`",
    "\uE041": "a",
    "\uE042": "b",
    "\uE043": "c",
    "\uE044": "d",
    "\uE045": "e",
    "\uE046": "f",
    "\uE047": "g",
    "\uE048": "h",
    "\uE049": "i",
    "\uE04A": "j",
    "\uE04B": "k",
    "\uE04C": "l",
    "\uE04D": "m",
    "\uE04E": "n",
    "\uE04F": "o",
    "\uE050": "p",
    "\uE051": "q",
    "\uE052": "r",
    "\uE053": "s",
    "\uE054": "t",
    "\uE055": "u",
    "\uE056": "v",
    "\uE057": "w",
    "\uE058": "x",
    "\uE059": "y",
    "\uE05A": "z",
    "\uE05B": "{",
    "\uE05C": "|",
    "\uE05D": "}",
    "\uE05E": "~",
};


export function encodeToDML(str: string) {
    return str.split("").map(c => encodeMap[c] || c).join("");
}

export function decodeDML(str: string) {
    return str.split("").map(c => decodeMap[c] || c).join("");
}

// 示例
// const test = "Hello, World! 123 <html>";
// const encoded = encode(test);
// console.log("Encoded:", encoded);
// const decoded = decode(encoded);
// console.log("Decoded:", decoded);
